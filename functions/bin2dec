# Valid with hex numbers starting with or without "0b"

if [ $# -eq 0 ]; then
    echo "Usage: bin2dec (0b)BIN_NUMBER"
    return 1
fi

# bc doesn't allow lowercase
local BIN_NUMBER=$(echo "$1" | cut -d'b' -f2 | tr '[:lower:]' '[:upper:]')

local re='^[0-1]+$'
if ! [[ $BIN_NUMBER =~ $re ]]; then
   echo "Error: Not a valid binary number" >&2;
   return 2
fi

echo "obase=10; ibase=2; $BIN_NUMBER" | bc
